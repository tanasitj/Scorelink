/**************************************************
LEADTOOLS (C) 1991-2019 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc. Specifically, no portion of this file may be modified, 
altered or otherwise changed under any circumstances, nor may any portion of this file be 
merged with any other file(s) or code.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
/* Copyright 2017 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
// Library: Leadtools.Pdf.Compatibility.js
if(!('undefined'!==typeof PDFJSDev&&PDFJSDev['test']('FIREFOX\x20||\x20MOZCENTRAL\x20||\x20CHROME')||'undefined'!==typeof PDFJS&&PDFJS['compatibilityChecked'])){var globalScope=require('./global_scope'),userAgent='undefined'!==typeof navigator&&navigator['userAgent']||'',isAndroid=/Android/['test'](userAgent),isAndroidPre3=/Android\s[0-2][^\d]/['test'](userAgent),isAndroidPre5=/Android\s[0-4][^\d]/['test'](userAgent),isChrome=0x0<=userAgent['indexOf']('Chrom'),isChromeWithRangeBug=/Chrome\/(39|40)\./['test'](userAgent),isIOSChrome=0x0<=userAgent['indexOf']('CriOS'),isIE=0x0<=userAgent['indexOf']('Trident'),isIOS=/\b(iPad|iPhone|iPod)(?=;)/['test'](userAgent),isOpera=0x0<=userAgent['indexOf']('Opera'),isSafari=/Safari\//['test'](userAgent)&&!/(Chrome\/|Android\s)/['test'](userAgent),hasDOM='object'===typeof window&&'object'===typeof document;'undefined'===typeof PDFJS&&(globalScope['PDFJS']={});PDFJS['compatibilityChecked']=!0x0;(function(){function c(c,e){return new u(this['slice'](c,e));}function f(c,h){0x2>arguments['length']&&(h=0x0);for(var i=0x0,f=c['length'];i<f;++i,++h)this[h]=c[i]&0xff;}function k(c,f){this['buffer']=c;this['byteLength']=c['length'];for(c=this['length']=f;m<c;)Object['defineProperty'](k['prototype'],m,n(m)),m++;}function n(c){return{'get':function(){var k=this['buffer'],n=c<<0x2;return(k[n]|k[n+0x1]<<0x8|k[n+0x2]<<0x10|k[n+0x3]<<0x18)>>>0x0;},'set':function(k){var n=this['buffer'],f=c<<0x2;n[f]=k&0xff;n[f+0x1]=k>>0x8&0xff;n[f+0x2]=k>>0x10&0xff;n[f+0x3]=k>>>0x18&0xff;}};}function u(k){var n,u;if('number'===typeof k){var y=[];for(n=0x0;n<k;++n)y[n]=0x0;}else if('slice'in k)y=k['slice'](0x0);else for(y=[],n=0x0,u=k['length'];n<u;++n)y[n]=k[n];y['subarray']=c;y['buffer']=y;y['byteLength']=y['length'];y['set']=f;'object'===typeof k&&k['buffer']&&(y['buffer']=k['buffer']);return y;}'undefined'===typeof Uint8ClampedArray&&(globalScope['Uint8ClampedArray']=require('core-js/fn/typed/uint8-clamped-array'));if('undefined'!==typeof Uint8Array)'undefined'===typeof Uint8Array['prototype']['subarray']&&(Uint8Array['prototype']['subarray']=function(k,c){return new Uint8Array(this['slice'](k,c));},Float32Array['prototype']['subarray']=function(k,c){return new Float32Array(this['slice'](k,c));}),'undefined'===typeof Float64Array&&(globalScope['Float64Array']=Float32Array);else{k['prototype']=Object['create'](null);var D=0x0;globalScope['Uint8Array']=u;globalScope['Int8Array']=u;globalScope['Int32Array']=u;globalScope['Uint16Array']=u;globalScope['Float32Array']=u;globalScope['Float64Array']=u;globalScope['Uint32Array']=function(){if(0x3===arguments['length']){if(0x0!==arguments[0x1])throw Error('offset\x20!==\x200\x20is\x20not\x20supported');return new k(arguments[0x0],arguments[0x2]);}return u['apply'](this,arguments);};}}());(function(){if(hasDOM&&window['CanvasPixelArray']){var E=window['CanvasPixelArray']['prototype'];'buffer'in E||(Object['defineProperty'](E,'buffer',{'get':function(){return this;},'enumerable':!0x1,'configurable':!0x0}),Object['defineProperty'](E,'byteLength',{'get':function(){return this['length'];},'enumerable':!0x1,'configurable':!0x0}));}}());(function(){globalScope['URL']||(globalScope['URL']=globalScope['webkitURL']);}());(function(){if('undefined'!==typeof Object['defineProperty']){var F=!0x0;try{hasDOM&&Object['defineProperty'](new Image(),'id',{'value':'test'});var G=function(){};G['prototype']={get 'id'(){}};Object['defineProperty'](new G(),'id',{'value':'','configurable':!0x0,'enumerable':!0x0,'writable':!0x1});}catch(H){F=!0x1;}if(F)return;}Object['defineProperty']=function(I,F,G){delete I[F];'get'in G&&I['__defineGetter__'](F,G['get']);'set'in G&&I['__defineSetter__'](F,G['set']);'value'in G&&(I['__defineSetter__'](F,function(I){this['__defineGetter__'](F,function(){return I;});return I;}),I[F]=G['value']);};}());(function(){if('undefined'!==typeof XMLHttpRequest){var M=XMLHttpRequest['prototype'],N=new XMLHttpRequest();'overrideMimeType'in N||Object['defineProperty'](M,'overrideMimeType',{'value':function(O){}});'responseType'in N||(Object['defineProperty'](M,'responseType',{'get':function(){return this['_responseType']||'text';},'set':function(P){if('text'===P||'arraybuffer'===P)this['_responseType']=P,'arraybuffer'===P&&'function'===typeof this['overrideMimeType']&&this['overrideMimeType']('text/plain;\x20charset=x-user-defined');}}),'undefined'!==typeof VBArray?Object['defineProperty'](M,'response',{'get':function(){return'arraybuffer'===this['responseType']?new Uint8Array(new VBArray(this['responseBody'])['toArray']()):this['responseText'];}}):Object['defineProperty'](M,'response',{'get':function(){if('arraybuffer'!==this['responseType'])return this['responseText'];var Q=this['responseText'],M,N=Q['length'],T=new Uint8Array(N);for(M=0x0;M<N;++M)T[M]=Q['charCodeAt'](M)&0xff;return T['buffer'];}}));}}());(function(){'btoa'in globalScope||(globalScope['btoa']=function(U){var V='',W;var X=0x0;for(W=U['length'];X<W;X+=0x3){var Y=U['charCodeAt'](X)&0xff,Z=U['charCodeAt'](X+0x1)&0xff,a0=U['charCodeAt'](X+0x2)&0xff,a1=(Y&0x3)<<0x4|Z>>0x4;Z=X+0x1<W?(Z&0xf)<<0x2|a0>>0x6:0x40;a0=X+0x2<W?a0&0x3f:0x40;V+='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='['charAt'](Y>>0x2)+'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='['charAt'](a1)+'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='['charAt'](Z)+'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='['charAt'](a0);}return V;});}());(function(){'atob'in globalScope||(globalScope['atob']=function(a2){a2=a2['replace'](/=+$/,'');if(0x1===a2['length']%0x4)throw Error('bad\x20atob\x20input');for(var a3=0x0,a4,a5,a6=0x0,a7='';a5=a2['charAt'](a6++);~a5&&(a4=a3%0x4?0x40*a4+a5:a5,a3++%0x4)?a7+=String['fromCharCode'](0xff&a4>>(-0x2*a3&0x6)):0x0)a5='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='['indexOf'](a5);return a7;});}());(function(){'undefined'===typeof Function['prototype']['bind']&&(Function['prototype']['bind']=function(a8){var a9=this,aa=Array['prototype']['slice']['call'](arguments,0x1);return function(){var ab=aa['concat'](Array['prototype']['slice']['call'](arguments));return a9['apply'](a8,ab);};});}());(function(){hasDOM&&('dataset'in document['createElement']('div')||Object['defineProperty'](HTMLElement['prototype'],'dataset',{'get':function(){if(this['_dataset'])return this['_dataset'];for(var ac={},ad=0x0,ae=this['attributes']['length'];ad<ae;ad++){var af=this['attributes'][ad];if('data-'===af['name']['substring'](0x0,0x5)){var ag=af['name']['substring'](0x5)['replace'](/\-([a-z])/g,function(ac,ae){return ae['toUpperCase']();});ac[ag]=af['value'];}}Object['defineProperty'](this,'_dataset',{'value':ac,'writable':!0x1,'enumerable':!0x1});return ac;},'enumerable':!0x0}));}());(function(){function aj(aj,al,am,an){var ao=(aj['className']||'')['split'](/\s+/g);''===ao[0x0]&&ao['shift']();var ap=ao['indexOf'](al);0x0>ap&&am&&ao['push'](al);0x0<=ap&&an&&ao['splice'](ap,0x1);aj['className']=ao['join']('\x20');return 0x0<=ap;}if(hasDOM&&!('classList'in document['createElement']('div'))){var aq={'add':function(ar){aj(this['element'],ar,!0x0,!0x1);},'contains':function(as){return aj(this['element'],as,!0x1,!0x1);},'remove':function(at){aj(this['element'],at,!0x1,!0x0);},'toggle':function(au){aj(this['element'],au,!0x0,!0x0);}};Object['defineProperty'](HTMLElement['prototype'],'classList',{'get':function(){if(this['_classList'])return this['_classList'];var aj=Object['create'](aq,{'element':{'value':this,'writable':!0x1,'enumerable':!0x0}});Object['defineProperty'](this,'_classList',{'value':aj,'writable':!0x1,'enumerable':!0x1});return aj;},'enumerable':!0x0});}}());(function(){if(!('undefined'===typeof importScripts||'console'in globalScope)){var aw={};globalScope['console']={'log':function(){var aw=Array['prototype']['slice']['call'](arguments);globalScope['postMessage']({'targetName':'main','action':'console_log','data':aw});},'error':function(){var aw=Array['prototype']['slice']['call'](arguments);globalScope['postMessage']({'targetName':'main','action':'console_error','data':aw});},'time':function(az){aw[az]=Date['now']();},'timeEnd':function(aA){var aB=aw[aA];if(!aB)throw Error('Unknown\x20timer\x20name\x20'+aA);this['log']('Timer:',aA,Date['now']()-aB);}};}}());(function(){hasDOM&&('console'in window?'bind'in console['log']||(console['log']=function(aC){return function(aD){return aC(aD);};}(console['log']),console['error']=function(aE){return function(aF){return aE(aF);};}(console['error']),console['warn']=function(aG){return function(aH){return aG(aH);};}(console['warn'])):window['console']={'log':function(){},'error':function(){},'warn':function(){}});}());(function(){function aI(aI){aK(aI['target'])&&aI['stopPropagation']();}function aK(aI){return aI['disabled']||aI['parentNode']&&aK(aI['parentNode']);}isOpera&&document['addEventListener']('click',aI,!0x0);}());(function(){if(isIE||isIOSChrome)PDFJS['disableCreateObjectURL']=!0x0;}());(function(){'undefined'===typeof navigator||'language'in navigator||(PDFJS['locale']=navigator['userLanguage']||'en-US');}());(function(){if(isSafari||isAndroidPre3||isChromeWithRangeBug||isIOS)PDFJS['disableRange']=!0x0,PDFJS['disableStream']=!0x0;}());(function(){!hasDOM||history['pushState']&&!isAndroidPre3||(PDFJS['disableHistory']=!0x0);}());(function(){if(hasDOM)if(window['CanvasPixelArray'])'function'!==typeof window['CanvasPixelArray']['prototype']['set']&&(window['CanvasPixelArray']['prototype']['set']=function(aM){for(var aN=0x0,aO=this['length'];aN<aO;aN++)this[aN]=aM[aN];});else{var aP=!0x1;isChrome?aP=(aP=userAgent['match'](/Chrom(e|ium)\/([0-9]+)\./))&&0x15>parseInt(aP[0x2]):isAndroid?aP=isAndroidPre5:isSafari&&(aP=(aP=userAgent['match'](/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//))&&0x6>parseInt(aP[0x1]));if(aP){aP=window['CanvasRenderingContext2D']['prototype'];var aQ=aP['createImageData'];aP['createImageData']=function(aP,aS){aP=aQ['call'](this,aP,aS);aP['data']['set']=function(aP){for(var aU=0x0,aQ=this['length'];aU<aQ;aU++)this[aU]=aP[aU];};return aP;};aP=null;}}}());(function(){function aW(){window['requestAnimationFrame']=function(aW){return window['setTimeout'](aW,0x14);};window['cancelAnimationFrame']=function(aW){window['clearTimeout'](aW);};}hasDOM&&(isIOS?aW():'requestAnimationFrame'in window||(window['requestAnimationFrame']=window['mozRequestAnimationFrame']||window['webkitRequestAnimationFrame'],window['requestAnimationFrame']||aW()));}());(function(){if(isIOS||isAndroid)PDFJS['maxCanvasPixels']=0x500000;}());(function(){hasDOM&&isIE&&window['parent']!==window&&(PDFJS['disableFullscreen']=!0x0);}());(function(){hasDOM&&('currentScript'in document||Object['defineProperty'](document,'currentScript',{'get':function(){var aZ=document['getElementsByTagName']('script');return aZ[aZ['length']-0x1];},'enumerable':!0x0,'configurable':!0x0}));}());(function(){if(hasDOM){var b0=document['createElement']('input');try{b0['type']='number';}catch(b1){b0=b0['constructor']['prototype'];var b2=Object['getOwnPropertyDescriptor'](b0,'type');Object['defineProperty'](b0,'type',{'get':function(){return b2['get']['call'](this);},'set':function(b0){b2['set']['call'](this,'number'===b0?'text':b0);},'enumerable':!0x0,'configurable':!0x0});}}}());(function(){if(hasDOM&&document['attachEvent']){var b4=document['constructor']['prototype'],b5=Object['getOwnPropertyDescriptor'](b4,'readyState');Object['defineProperty'](b4,'readyState',{'get':function(){var b4=b5['get']['call'](this);return'interactive'===b4?'loading':b4;},'set':function(b4){b5['set']['call'](this,b4);},'enumerable':!0x0,'configurable':!0x0});}}());(function(){hasDOM&&'undefined'===typeof Element['prototype']['remove']&&(Element['prototype']['remove']=function(){this['parentNode']&&this['parentNode']['removeChild'](this);});}());(function(){Number['isNaN']||(Number['isNaN']=require('core-js/fn/number/is-nan'));}());(function(){Number['isInteger']||(Number['isInteger']=require('core-js/fn/number/is-integer'));}());(function(){globalScope['Promise']||(globalScope['Promise']=require('core-js/fn/promise'));}());(function(){globalScope['WeakMap']||(globalScope['WeakMap']=require('core-js/fn/weak-map'));}());(function(){function b8(b8){''===b8&&(bv['call'](this),this['_isInvalid']=!0x0);return b8['toLowerCase']();}function ba(b8){var bc=b8['charCodeAt'](0x0);return 0x20<bc&&0x7f>bc&&-0x1===[0x22,0x23,0x3c,0x3e,0x3f,0x60]['indexOf'](bc)?b8:encodeURIComponent(b8);}function bd(b8){var bd=b8['charCodeAt'](0x0);return 0x20<bd&&0x7f>bd&&-0x1===[0x22,0x23,0x3c,0x3e,0x60]['indexOf'](bd)?b8:encodeURIComponent(b8);}function bg(bg,bi,bj){function bk(b8){br['push'](b8);}var bm=bi||'scheme\x20start',bn=0x0,bo='',bp=!0x1,bq=!0x1,br=[];bs:for(;(bg[bn-0x1]!==bE||0x0===bn)&&!this['_isInvalid'];){var bt=bg[bn];switch(bm){case'scheme\x20start':if(bt&&bF['test'](bt))bo+=bt['toLowerCase'](),bm='scheme';else if(bi){bk('Invalid\x20scheme.');break bs;}else{bo='';bm='no\x20scheme';continue;}break;case'scheme':if(bt&&bG['test'](bt))bo+=bt['toLowerCase']();else if(':'===bt){this['_scheme']=bo;bo='';if(bi)break bs;void 0x0!==bC[this['_scheme']]&&(this['_isRelative']=!0x0);bm='file'===this['_scheme']?'relative':this['_isRelative']&&bj&&bj['_scheme']===this['_scheme']?'relative\x20or\x20authority':this['_isRelative']?'authority\x20first\x20slash':'scheme\x20data';}else if(bi){bt!==bE&&bk('Code\x20point\x20not\x20allowed\x20in\x20scheme:\x20'+bt);break bs;}else{bo='';bn=0x0;bm='no\x20scheme';continue;}break;case'scheme\x20data':'?'===bt?(this['_query']='?',bm='query'):'#'===bt?(this['_fragment']='#',bm='fragment'):bt!==bE&&'\x09'!==bt&&'\x0a'!==bt&&'\x0d'!==bt&&(this['_schemeData']+=ba(bt));break;case'no\x20scheme':if(bj&&void 0x0!==bC[bj['_scheme']]){bm='relative';continue;}else bk('Missing\x20scheme.'),bv['call'](this),this['_isInvalid']=!0x0;break;case'relative\x20or\x20authority':if('/'===bt&&'/'===bg[bn+0x1])bm='authority\x20ignore\x20slashes';else{bk('Expected\x20/,\x20got:\x20'+bt);bm='relative';continue;}break;case'relative':this['_isRelative']=!0x0;'file'!==this['_scheme']&&(this['_scheme']=bj['_scheme']);if(bt===bE){this['_host']=bj['_host'];this['_port']=bj['_port'];this['_path']=bj['_path']['slice']();this['_query']=bj['_query'];this['_username']=bj['_username'];this['_password']=bj['_password'];break bs;}else if('/'===bt||'\x5c'===bt)'\x5c'===bt&&bk('\x5c\x20is\x20an\x20invalid\x20code\x20point.'),bm='relative\x20slash';else if('?'===bt)this['_host']=bj['_host'],this['_port']=bj['_port'],this['_path']=bj['_path']['slice'](),this['_query']='?',this['_username']=bj['_username'],this['_password']=bj['_password'],bm='query';else if('#'===bt)this['_host']=bj['_host'],this['_port']=bj['_port'],this['_path']=bj['_path']['slice'](),this['_query']=bj['_query'],this['_fragment']='#',this['_username']=bj['_username'],this['_password']=bj['_password'],bm='fragment';else{bm=bg[bn+0x1];var bu=bg[bn+0x2];if('file'!==this['_scheme']||!bF['test'](bt)||':'!==bm&&'|'!==bm||bu!==bE&&'/'!==bu&&'\x5c'!==bu&&'?'!==bu&&'#'!==bu)this['_host']=bj['_host'],this['_port']=bj['_port'],this['_username']=bj['_username'],this['_password']=bj['_password'],this['_path']=bj['_path']['slice'](),this['_path']['pop']();bm='relative\x20path';continue;}break;case'relative\x20slash':if('/'===bt||'\x5c'===bt)'\x5c'===bt&&bk('\x5c\x20is\x20an\x20invalid\x20code\x20point.'),bm='file'===this['_scheme']?'file\x20host':'authority\x20ignore\x20slashes';else{'file'!==this['_scheme']&&(this['_host']=bj['_host'],this['_port']=bj['_port'],this['_username']=bj['_username'],this['_password']=bj['_password']);bm='relative\x20path';continue;}break;case'authority\x20first\x20slash':if('/'===bt)bm='authority\x20second\x20slash';else{bk('Expected\x20\x27/\x27,\x20got:\x20'+bt);bm='authority\x20ignore\x20slashes';continue;}break;case'authority\x20second\x20slash':bm='authority\x20ignore\x20slashes';if('/'!==bt){bk('Expected\x20\x27/\x27,\x20got:\x20'+bt);continue;}break;case'authority\x20ignore\x20slashes':if('/'!==bt&&'\x5c'!==bt){bm='authority';continue;}else bk('Expected\x20authority,\x20got:\x20'+bt);break;case'authority':if('@'===bt){bp&&(bk('@\x20already\x20seen.'),bo+='%40');bp=!0x0;for(bt=0x0;bt<bo['length'];bt++)bu=bo[bt],'\x09'===bu||'\x0a'===bu||'\x0d'===bu?bk('Invalid\x20whitespace\x20in\x20authority.'):':'===bu&&null===this['_password']?this['_password']='':(bu=ba(bu),null!==this['_password']?this['_password']+=bu:this['_username']+=bu);bo='';}else if(bt===bE||'/'===bt||'\x5c'===bt||'?'===bt||'#'===bt){bn-=bo['length'];bo='';bm='host';continue;}else bo+=bt;break;case'file\x20host':if(bt===bE||'/'===bt||'\x5c'===bt||'?'===bt||'#'===bt){0x2!==bo['length']||!bF['test'](bo[0x0])||':'!==bo[0x1]&&'|'!==bo[0x1]?(0x0!==bo['length']&&(this['_host']=b8['call'](this,bo),bo=''),bm='relative\x20path\x20start'):bm='relative\x20path';continue;}else'\x09'===bt||'\x0a'===bt||'\x0d'===bt?bk('Invalid\x20whitespace\x20in\x20file\x20host.'):bo+=bt;break;case'host':case'hostname':if(':'!==bt||bq)if(bt===bE||'/'===bt||'\x5c'===bt||'?'===bt||'#'===bt){this['_host']=b8['call'](this,bo);bo='';bm='relative\x20path\x20start';if(bi)break bs;continue;}else'\x09'!==bt&&'\x0a'!==bt&&'\x0d'!==bt?('['===bt?bq=!0x0:']'===bt&&(bq=!0x1),bo+=bt):bk('Invalid\x20code\x20point\x20in\x20host/hostname:\x20'+bt);else if(this['_host']=b8['call'](this,bo),bo='',bm='port','hostname'===bi)break bs;break;case'port':if(/[0-9]/['test'](bt))bo+=bt;else if(bt===bE||'/'===bt||'\x5c'===bt||'?'===bt||'#'===bt||bi){''!==bo&&(bo=parseInt(bo,0xa),bo!==bC[this['_scheme']]&&(this['_port']=bo+''),bo='');if(bi)break bs;bm='relative\x20path\x20start';continue;}else'\x09'===bt||'\x0a'===bt||'\x0d'===bt?bk('Invalid\x20code\x20point\x20in\x20port:\x20'+bt):(bv['call'](this),this['_isInvalid']=!0x0);break;case'relative\x20path\x20start':'\x5c'===bt&&bk('\x27\x5c\x27\x20not\x20allowed\x20in\x20path.');bm='relative\x20path';if('/'!==bt&&'\x5c'!==bt)continue;break;case'relative\x20path':if(bt!==bE&&'/'!==bt&&'\x5c'!==bt&&(bi||'?'!==bt&&'#'!==bt))'\x09'!==bt&&'\x0a'!==bt&&'\x0d'!==bt&&(bo+=ba(bt));else{'\x5c'===bt&&bk('\x5c\x20not\x20allowed\x20in\x20relative\x20path.');if(bu=bD[bo['toLowerCase']()])bo=bu;'..'===bo?(this['_path']['pop'](),'/'!==bt&&'\x5c'!==bt&&this['_path']['push']('')):'.'===bo&&'/'!==bt&&'\x5c'!==bt?this['_path']['push'](''):'.'!==bo&&('file'===this['_scheme']&&0x0===this['_path']['length']&&0x2===bo['length']&&bF['test'](bo[0x0])&&'|'===bo[0x1]&&(bo=bo[0x0]+':'),this['_path']['push'](bo));bo='';'?'===bt?(this['_query']='?',bm='query'):'#'===bt&&(this['_fragment']='#',bm='fragment');}break;case'query':bi||'#'!==bt?bt!==bE&&'\x09'!==bt&&'\x0a'!==bt&&'\x0d'!==bt&&(this['_query']+=bd(bt)):(this['_fragment']='#',bm='fragment');break;case'fragment':bt!==bE&&'\x09'!==bt&&'\x0a'!==bt&&'\x0d'!==bt&&(this['_fragment']+=bt);}bn++;}}function bv(){this['_username']=this['_schemeData']=this['_scheme']='';this['_password']=null;this['_port']=this['_host']='';this['_path']=[];this['_fragment']=this['_query']='';this['_isRelative']=this['_isInvalid']=!0x1;}function bw(b8,bd){void 0x0===bd||bd instanceof bw||(bd=new bw(String(bd)));this['_url']=b8;bv['call'](this);b8=b8['replace'](/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,'');bg['call'](this,b8,null,bd);}var bz=!0x1;try{if('function'===typeof URL&&'object'===typeof URL['prototype']&&'origin'in URL['prototype']){var bA=new URL('b','http://a');bA['pathname']='c%20d';bz='http://a/c%20d'===bA['href'];}}catch(bB){}if(!bz){var bC=Object['create'](null);bC['ftp']=0x15;bC['file']=0x0;bC['gopher']=0x46;bC['http']=0x50;bC['https']=0x1bb;bC['ws']=0x50;bC['wss']=0x1bb;var bD=Object['create'](null);bD['%2e']='.';bD['.%2e']='..';bD['%2e.']='..';bD['%2e%2e']='..';var bE,bF=/[a-zA-Z]/,bG=/[a-zA-Z0-9\+\-\.]/;bw['prototype']={'toString':function(){return this['href'];},get 'href'(){if(this['_isInvalid'])return this['_url'];var b8='';if(''!==this['_username']||null!==this['_password'])b8=this['_username']+(null!==this['_password']?':'+this['_password']:'')+'@';return this['protocol']+(this['_isRelative']?'//'+b8+this['host']:'')+this['pathname']+this['_query']+this['_fragment'];},set 'href'(b8){bv['call'](this);bg['call'](this,b8);},get 'protocol'(){return this['_scheme']+':';},set 'protocol'(b8){this['_isInvalid']||bg['call'](this,b8+':','scheme\x20start');},get 'host'(){return this['_isInvalid']?'':this['_port']?this['_host']+':'+this['_port']:this['_host'];},set 'host'(b8){!this['_isInvalid']&&this['_isRelative']&&bg['call'](this,b8,'host');},get 'hostname'(){return this['_host'];},set 'hostname'(b8){!this['_isInvalid']&&this['_isRelative']&&bg['call'](this,b8,'hostname');},get 'port'(){return this['_port'];},set 'port'(b8){!this['_isInvalid']&&this['_isRelative']&&bg['call'](this,b8,'port');},get 'pathname'(){return this['_isInvalid']?'':this['_isRelative']?'/'+this['_path']['join']('/'):this['_schemeData'];},set 'pathname'(b8){!this['_isInvalid']&&this['_isRelative']&&(this['_path']=[],bg['call'](this,b8,'relative\x20path\x20start'));},get 'search'(){return this['_isInvalid']||!this['_query']||'?'===this['_query']?'':this['_query'];},set 'search'(b8){!this['_isInvalid']&&this['_isRelative']&&(this['_query']='?','?'===b8[0x0]&&(b8=b8['slice'](0x1)),bg['call'](this,b8,'query'));},get 'hash'(){return this['_isInvalid']||!this['_fragment']||'#'===this['_fragment']?'':this['_fragment'];},set 'hash'(b8){this['_isInvalid']||(this['_fragment']='#','#'===b8[0x0]&&(b8=b8['slice'](0x1)),bg['call'](this,b8,'fragment'));},get 'origin'(){var b8;if(this['_isInvalid']||!this['_scheme'])return'';switch(this['_scheme']){case'data':case'file':case'javascript':case'mailto':return'null';case'blob':try{return new bw(this['_schemeData'])['origin']||'null';}catch(bR){}return'null';}return(b8=this['host'])?this['_scheme']+'://'+b8:'';}};var bS=globalScope['URL'];bS&&(bw['createObjectURL']=function(b8){return bS['createObjectURL']['apply'](bS,arguments);},bw['revokeObjectURL']=function(b8){bS['revokeObjectURL'](b8);});globalScope['URL']=bw;}}());};